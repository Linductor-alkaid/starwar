# ç»ˆç«¯å¯åŠ¨æŒ‡å—ï¼ˆä¸ä½¿ç”¨IDEAï¼‰

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨åœ¨Windows PowerShellæˆ–CMDä¸­ä½¿ç”¨Mavenå‘½ä»¤ç›´æ¥å¯åŠ¨é¡¹ç›®ã€‚

## ğŸ“‹ å‰ææ¡ä»¶

### 1. å®‰è£…JDK 8
ä¸‹è½½å¹¶å®‰è£…JDK 8ï¼šhttps://www.oracle.com/java/technologies/javase/javase8-archive-downloads.html

é…ç½®ç¯å¢ƒå˜é‡ï¼š
```powershell
# æ·»åŠ ç³»ç»Ÿç¯å¢ƒå˜é‡
JAVA_HOME = C:\Program Files\Java\jdk1.8.0_xxx
Path = %JAVA_HOME%\bin
```

éªŒè¯å®‰è£…ï¼š
```powershell
java -version
```

### 2. å®‰è£…Maven
ä¸‹è½½Mavenï¼šhttps://maven.apache.org/download.cgi

è§£å‹åˆ°ç›®å½•ï¼Œä¾‹å¦‚ï¼š`C:\apache-maven-3.9.5`

é…ç½®ç¯å¢ƒå˜é‡ï¼š
```powershell
# æ·»åŠ ç³»ç»Ÿç¯å¢ƒå˜é‡
MAVEN_HOME = C:\apache-maven-3.9.5
Path = %MAVEN_HOME%\bin
```

éªŒè¯å®‰è£…ï¼š
```powershell
mvn -version
```

### 3. MySQLé…ç½®
ç¡®ä¿MySQLæœåŠ¡å·²å¯åŠ¨ï¼Œæ•°æ®åº“å·²åˆå§‹åŒ–ï¼ˆæ‰§è¡Œ `docs/database/init.sql`ï¼‰

## ğŸš€ å¯åŠ¨æ­¥éª¤

### æ­¥éª¤1ï¼šæ‰“å¼€ç»ˆç«¯

åœ¨Windowsä¸­æŒ‰ `Win + X`ï¼Œé€‰æ‹©"Windows PowerShell"æˆ–"å‘½ä»¤æç¤ºç¬¦"

### æ­¥éª¤2ï¼šè¿›å…¥é¡¹ç›®ç›®å½•

```powershell
cd G:\myproject\starwar\backend
```

### æ­¥éª¤3ï¼šä¿®æ”¹æ•°æ®åº“é…ç½®

ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼ˆå¦‚æœè¿˜æ²¡ä¿®æ”¹è¿‡ï¼‰ï¼š

**æ–¹æ³•1ï¼šä½¿ç”¨è®°äº‹æœ¬**
```powershell
notepad src\main\resources\application.yml
```

ä¿®æ”¹ç¬¬8è¡Œï¼š
```yaml
password: root  # æ”¹ä¸ºä½ çš„MySQLå¯†ç 
```

ä¿å­˜å¹¶å…³é—­æ–‡ä»¶ã€‚

**æ–¹æ³•2ï¼šä½¿ç”¨PowerShellå‘½ä»¤**
```powershell
# æŸ¥çœ‹å½“å‰å¯†ç 
Get-Content src\main\resources\application.yml

# æ›¿æ¢å¯†ç ï¼ˆå¦‚æœä½ éœ€è¦çš„è¯ï¼‰
(Get-Content src\main\resources\application.yml) -replace 'password: root', 'password: ä½ çš„å¯†ç ' | Set-Content src\main\resources\application.yml
```

### æ­¥éª¤4ï¼šä¸‹è½½Mavenä¾èµ–ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰

```powershell
mvn clean install
```

è¿™å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ—¶é—´ï¼Œé¦–æ¬¡è¿è¡Œä¼šä¸‹è½½æ‰€æœ‰ä¾èµ–åŒ…ã€‚

### æ­¥éª¤5ï¼šå¯åŠ¨é¡¹ç›®

æœ‰ä¸¤ç§æ–¹å¼å¯åŠ¨ï¼š

#### æ–¹å¼1ï¼šä½¿ç”¨Mavenå¯åŠ¨ï¼ˆæ¨èï¼‰
```powershell
mvn spring-boot:run
```

#### æ–¹å¼2ï¼šå…ˆç¼–è¯‘å†è¿è¡Œ
```powershell
# ç¼–è¯‘é¡¹ç›®
mvn clean package

# è¿è¡Œjaræ–‡ä»¶
java -jar target\star-war-backend-1.0.0.jar
```

## âœ… éªŒè¯å¯åŠ¨

å¯åŠ¨æˆåŠŸåï¼Œæ‚¨ä¼šçœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„è¾“å‡ºï¼š

```
  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.18)

... (å…¶ä»–æ—¥å¿—)

Started StarWarApplication in X.XXX seconds (JVM running for X.XXX)
```

çœ‹åˆ° "Started StarWarApplication" å°±è¡¨ç¤ºå¯åŠ¨æˆåŠŸäº†ï¼

## ğŸ§ª æµ‹è¯•æ¥å£

åœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š

1. **Swagger APIæ–‡æ¡£**
   ```
   http://localhost:8080/swagger-ui.html
   ```

2. **å¥åº·æ£€æŸ¥**ï¼ˆç®€å•æµ‹è¯•ï¼‰
   ```
   http://localhost:8080/api/v1/game/leaderboard?page=1&size=20
   ```

## ğŸ“ å¸¸ç”¨Mavenå‘½ä»¤

### ç¼–è¯‘é¡¹ç›®
```powershell
mvn compile
```

### æ‰“åŒ…é¡¹ç›®ï¼ˆç”Ÿæˆjaræ–‡ä»¶ï¼‰
```powershell
mvn clean package
```

### è¿è¡Œé¡¹ç›®
```powershell
mvn spring-boot:run
```

### æ¸…ç†ç¼–è¯‘æ–‡ä»¶
```powershell
mvn clean
```

### è·³è¿‡æµ‹è¯•æ‰“åŒ…
```powershell
mvn clean package -DskipTests
```

### æŒ‡å®šç«¯å£è¿è¡Œ
```powershell
# ä¿®æ”¹application.ymlæˆ–åœ¨å‘½ä»¤è¡ŒæŒ‡å®š
mvn spring-boot:run -Dspring-boot.run.arguments=--server.port=8081
```

## ğŸ”§ å¸¸è§é—®é¢˜

### é—®é¢˜1: Mavenå‘½ä»¤ä¸è¯†åˆ«

**é”™è¯¯**: `mvn : æ— æ³•å°†"mvn"é¡¹è¯†åˆ«ä¸º cmdlet`

**è§£å†³**: 
1. æ£€æŸ¥Mavenæ˜¯å¦å·²å®‰è£…
2. æ£€æŸ¥ç¯å¢ƒå˜é‡æ˜¯å¦é…ç½®æ­£ç¡®
3. é‡å¯PowerShellçª—å£
4. éªŒè¯: `mvn -version`

### é—®é¢˜2: Javaå‘½ä»¤ä¸è¯†åˆ«

**é”™è¯¯**: `java : æ— æ³•å°†"java"é¡¹è¯†åˆ«ä¸º cmdlet`

**è§£å†³**: 
1. æ£€æŸ¥JDKæ˜¯å¦å·²å®‰è£…
2. æ£€æŸ¥JAVA_HOMEç¯å¢ƒå˜é‡
3. é‡å¯PowerShellçª—å£
4. éªŒè¯: `java -version`

### é—®é¢˜3: ä¾èµ–ä¸‹è½½å¤±è´¥

**é”™è¯¯**: `Could not resolve dependencies`

**è§£å†³**: 
1. é…ç½®å›½å†…é•œåƒæº
2. ç¼–è¾‘ `%MAVEN_HOME%\conf\settings.xml`
3. æ·»åŠ é•œåƒï¼ˆè§ä¸‹æ–¹é…ç½®ï¼‰

### é—®é¢˜4: ç«¯å£è¢«å ç”¨

**é”™è¯¯**: `Port 8080 is already in use`

**è§£å†³**:
```powershell
# æ–¹å¼1ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶
# ç¼–è¾‘ application.ymlï¼Œä¿®æ”¹ port: 8081

# æ–¹å¼2ï¼šä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°
mvn spring-boot:run -Dspring-boot.run.arguments=--server.port=8081
```

### é—®é¢˜5: æ•°æ®åº“è¿æ¥å¤±è´¥

**é”™è¯¯**: `Access denied for user 'root'@'localhost'`

**è§£å†³**: 
1. æ£€æŸ¥MySQLæœåŠ¡æ˜¯å¦å¯åŠ¨
2. æ£€æŸ¥ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®
3. æ£€æŸ¥application.ymlé…ç½®

## ğŸ“¦ é…ç½®Mavené•œåƒæºï¼ˆåŠ é€Ÿä¸‹è½½ï¼‰

åˆ›å»ºæˆ–ç¼–è¾‘ `%MAVEN_HOME%\conf\settings.xml`ï¼š

```xml
<settings>
  <mirrors>
    <mirror>
      <id>aliyun</id>
      <mirrorOf>central</mirrorOf>
      <name>é˜¿é‡Œäº‘Mavené•œåƒ</name>
      <url>https://maven.aliyun.com/repository/public</url>
    </mirror>
  </mirrors>
</settings>
```

## ğŸ¯ ä¸€é”®å¯åŠ¨è„šæœ¬

æ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªbatè„šæœ¬æ¥å¿«é€Ÿå¯åŠ¨é¡¹ç›®ï¼š

**åˆ›å»ºæ–‡ä»¶ï¼š`start.bat`**
```batch
@echo off
echo ====================================
echo æ˜Ÿé™…é˜²å«æˆ˜åç«¯å¯åŠ¨è„šæœ¬
echo ====================================

cd /d %~dp0

echo.
echo æ£€æŸ¥Javaç¯å¢ƒ...
java -version
if errorlevel 1 (
    echo Javaæœªå®‰è£…æˆ–æœªé…ç½®ç¯å¢ƒå˜é‡ï¼
    pause
    exit /b 1
)

echo.
echo æ£€æŸ¥Mavenç¯å¢ƒ...
mvn -version
if errorlevel 1 (
    echo Mavenæœªå®‰è£…æˆ–æœªé…ç½®ç¯å¢ƒå˜é‡ï¼
    pause
    exit /b 1
)

echo.
echo å¯åŠ¨é¡¹ç›®...
echo æç¤ºï¼šæŒ‰ Ctrl+C å¯ä»¥åœæ­¢æœåŠ¡
echo.

mvn spring-boot:run

pause
```

**ä½¿ç”¨æ–¹æ³•**ï¼šåŒå‡» `start.bat` æ–‡ä»¶å³å¯å¯åŠ¨é¡¹ç›®ã€‚

## ğŸ” æŸ¥çœ‹è¿è¡Œæ—¥å¿—

é¡¹ç›®è¿è¡Œæ—¶çš„æ—¥å¿—ä¼šæ˜¾ç¤ºåœ¨ç»ˆç«¯ä¸­ï¼ŒåŒ…æ‹¬ï¼š
- æ•°æ®åº“è¿æ¥çŠ¶æ€
- å¯åŠ¨çš„ç«¯å£
- åŠ è½½çš„Mapperæ–‡ä»¶
- APIæ¥å£è·¯ç”±

å¦‚æœå‡ºç°é”™è¯¯ï¼ŒæŸ¥çœ‹æ—¥å¿—çš„æœ€åå‡ è¡Œï¼Œé€šå¸¸ä¼šæœ‰é”™è¯¯æç¤ºã€‚

## ğŸ“š å…¶ä»–èµ„æº

- å®Œæ•´æ–‡æ¡£ï¼š`backend/README.md`
- å¼€å‘æŒ‡å—ï¼š`backend/å¼€å‘æŒ‡å—.md`
- é¡¹ç›®ç»“æ„ï¼š`backend/é¡¹ç›®ç»“æ„è¯´æ˜.md`
- æ•°æ®åº“è„šæœ¬ï¼š`docs/database/init.sql`

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **é¦–æ¬¡è¿è¡Œ**éœ€è¦ä¸‹è½½ä¾èµ–ï¼Œå¯èƒ½éœ€è¦5-10åˆ†é’Ÿ
2. **ç¡®ä¿ç«¯å£8080æœªè¢«å ç”¨**ï¼Œå¦åˆ™ä¼šå¯åŠ¨å¤±è´¥
3. **ç¡®ä¿MySQLå·²å¯åŠ¨**ï¼Œå¦åˆ™æ— æ³•è¿æ¥æ•°æ®åº“
4. **ä¿æŒç»ˆç«¯çª—å£æ‰“å¼€**ï¼Œå…³é—­çª—å£ä¼šåœæ­¢æœåŠ¡

## ğŸ‰ æˆåŠŸæ ‡å¿—

çœ‹åˆ°ä»¥ä¸‹ä¿¡æ¯è¡¨ç¤ºå¯åŠ¨æˆåŠŸï¼š
```
Started StarWarApplication in X seconds (JVM running for X seconds)
```

ç„¶åè®¿é—® http://localhost:8080/swagger-ui.html æµ‹è¯•æ¥å£ï¼

---

ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼ğŸš€

